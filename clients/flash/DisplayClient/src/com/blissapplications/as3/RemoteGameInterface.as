package com.blissapplications.as3 {	import com.junkbyte.console.Cc;	  import flash.events.TimerEvent;	import flash.utils.Timer;	import flash.system.Security;	public class RemoteGameInterface {		var _host:String;		var _port:int;		var _policyPort:int;				var _socket:RemoteGameInterfaceSocket;		var _connectTimer:Timer;		public function RemoteGameInterface(host:String, port:int) {			_host = host;			_port = port;			_policyPort = port + 1;		}				public function connectToServer(){			Cc.log("Connecting to Policy Server '" + _host + ":" + _policyPort + "'...");			Security.loadPolicyFile("xmlsocket://" + _host + ":" + _policyPort);						_connectTimer = new Timer(1000,5);			_connectTimer.start();			_connectTimer.addEventListener(TimerEvent.TIMER, timerHandler);      _connectTimer.addEventListener(TimerEvent.TIMER_COMPLETE, completeHandler);		}				public function disconnectFromServer(){			Cc.log("Disconnecting from Remote Interface Server...");			_socket.close();		}				private function timerHandler(e:TimerEvent):void{    	Cc.log("Trying to connect to Remote Interface Server '" + _host + ":" + _port + "'...");			_socket = new RemoteGameInterfaceSocket();			try{				_socket.connect(_host,_port);				_connectTimer.stop();			}catch(e:Error){				Cc.log("Coulnd't connect. Error: '" + e + "'.");			}			Cc.log("trying to connect");    }    public function completeHandler(e:TimerEvent):void {    	Cc.log("Couldn't connect to Remote Interface Server. Giving up...");		}			}	}